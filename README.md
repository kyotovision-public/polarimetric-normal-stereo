# Polarimetric Normal Stereo, CVPR2021

This repository provides an inplementation of our paper [Polarimetric Normal Stereo](https://openaccess.thecvf.com/content/CVPR2021/html/Fukao_Polarimetric_Normal_Stereo_CVPR_2021_paper.html) in CVPR 2021.  If you find our work useful in your research please consider citing our paper.

Please note that this is research software and may contain bugs or other issues â€“ please use it at your own risk. If you experience major problems with it, you may contact us, but please note that we do not have the resources to deal with all issues.

```
@InProceedings{Fukao_2021_CVPR,
    author    = {Fukao, Yoshiki and Kawahara, Ryo and Nobuhara, Shohei and Nishino, Ko},
    title     = {Polarimetric Normal Stereo},
    booktitle = {Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)},
    month     = {June},
    year      = {2021},
    pages     = {682-690}
}
```

## Prerequisites

We tested our code with Python 3.8.10 on Ubuntu 20.04 LTS.  Our code depends on the following modules.
* bm3d
* matplotlib
* numba
* numpy
* opencv_python
* scipy
* tqdm

Please browse [`requirements.txt`](requirements.txt) generated by [`pipreqs`](https://pypi.org/project/pipreqs/) to find the specific versions we used in our test environment, or you can simply do
```
$ python3 -m pip install -r requirements.txt
```
in your (virtual) environment.

Alternatively, you can use [`pnstereo.def`](sfsky.def) to build your [`singularity`](https://sylabs.io/) container by
```
$ singularity build --fakeroot ./pnstereo.sif ./pnstereo.def
INFO:    Starting build...
Getting image source signatures
(snip)
INFO:    Creating SIF file...
INFO:    Build complete: ./pnstereo.sif
```
The file size of the generated container file (`pnstereo.sif` in this example) will be around 560MB.

